// Generated by CoffeeScript 1.7.1
(function() {
  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  angular.module('app').factory('IdentityService', function($window, UserModel) {
    var currentUser;
    currentUser = void 0;
    if ($window.bootstrappedUserObject != null) {
      currentUser = new UserModel();
      angular.extend(currentUser, $window.bootstrappedUserObject);
    }
    return {
      currentUser: currentUser,
      isAuthenticated: function() {
        return this.currentUser != null;
      },
      isAuthorized: function(role) {
        var _ref;
        return (this.currentUser != null) && __indexOf.call((_ref = this.currentUser) != null ? _ref.roles : void 0, role) >= 0;
      }
    };
  });

}).call(this);

//# sourceMappingURL=IdentityService.map
