// Generated by CoffeeScript 1.7.1
(function() {
  var reloadDelay, reloadPage, tryReloadAfterDelay;

  reloadDelay = 10000;

  reloadPage = function() {
    console.debug('>> reloading...');
    return window.location = '/';
  };

  tryReloadAfterDelay = function(response) {
    if ((response != null ? response.status : void 0) === 'error') {
      console.debug('>> cannot reload the page...');
    }
    if (!window.stopReload) {
      return setTimeout(function() {
        return $.ajax({
          url: window.location,
          success: reloadPage,
          error: tryReloadAfterDelay
        });
      }, reloadDelay);
    } else {
      return setTimeout(tryReloadAfterDelay, reloadDelay / 2);
    }
  };

}).call(this);

//# sourceMappingURL=reloadLoop.map
