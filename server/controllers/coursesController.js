// Generated by CoffeeScript 1.7.1
(function() {
  var Course;

  Course = require('mongoose').model('Course');

  exports.getCourses = function(req, res) {
    return Course.find({}).exec(function(err, collection) {
      return res.send(collection);
    });
  };

  exports.getCourseById = function(req, res) {
    return Course.findOne({
      _id: req.params.id
    }).exec(function(err, course) {
      return res.send(course);
    });
  };

  exports.createCourse = function(req, res, next) {
    var courseData;
    courseData = req.body;
    courseData.published = new Date();
    return Course.create(courseData, function(err, course) {
      if (err) {
        res.status(400);
        return res.send({
          reason: err.toString()
        });
      } else {
        res.status(200);
        return res.send(course);
      }
    });
  };

}).call(this);

//# sourceMappingURL=coursesController.map
